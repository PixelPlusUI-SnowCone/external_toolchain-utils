[
  {
    "name": "gcc path",
    "records": [
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "./x86_64-cros-linux-gnu-gcc.real",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-fno-reorder-blocks-and-partition",
                "-Wno-unused-local-typedefs",
                "-Wno-maybe-uninitialized",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-mno-movbe"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "./x86_64-cros-linux-gnu-gcc.real",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-fno-reorder-blocks-and-partition",
                "-Wno-unused-local-typedefs",
                "-Wno-maybe-uninitialized",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-mno-movbe"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  },
  {
    "name": "clang path",
    "records": [
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang++",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang++",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "CLANG=somepath/clang"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "somepath/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "-Xclang-path=/somedir",
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "/somedir/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "-resource-dir=someResourceDir",
                "--gcc-toolchain=/usr",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "GOMACC_PATH=/tmp/stable/gomacc"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "-Xclang-path=/somedir",
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "/somedir/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "-resource-dir=someResourceDir",
                "--gcc-toolchain=/usr",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "-Xclang-path=/somedir",
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "/somedir/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "-resource-dir=someResourceDir",
                "--gcc-toolchain=/usr",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  },
  {
    "name": "gcc clang-syntax",
    "records": [
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "-clang-syntax",
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-fsyntax-only",
                "-stdlib=libstdc++"
              ]
            }
          },
          {
            "cmd": {
              "path": "./x86_64-cros-linux-gnu-gcc.real",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-fno-reorder-blocks-and-partition",
                "-Wno-unused-local-typedefs",
                "-Wno-maybe-uninitialized",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-mno-movbe"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "GOMACC_PATH=/tmp/stable/gomacc"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "-clang-syntax",
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "../../usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-fsyntax-only",
                "-stdlib=libstdc++"
              ]
            }
          },
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "./x86_64-cros-linux-gnu-gcc.real",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-fno-reorder-blocks-and-partition",
                "-Wno-unused-local-typedefs",
                "-Wno-maybe-uninitialized",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-mno-movbe"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "-clang-syntax",
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-fsyntax-only",
                "-stdlib=libstdc++"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-gcc",
            "args": [
              "-clang-syntax",
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-fsyntax-only",
                "-stdlib=libstdc++"
              ]
            }
          },
          {
            "cmd": {
              "path": "./x86_64-cros-linux-gnu-gcc.real",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-fno-reorder-blocks-and-partition",
                "-Wno-unused-local-typedefs",
                "-Wno-maybe-uninitialized",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-mno-movbe"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  },
  {
    "name": "bisect",
    "records": [
      {
        "wd": "/tmp/stable",
        "env": [
          "BISECT_STAGE=someBisectStage",
          "BISECT_DIR=someBisectDir"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "/usr/bin/python2",
              "args": [
                "-c",
                "import bisect_driver; sys.exit(bisect_driver.bisect_driver(sys.argv[1], sys.argv[2], sys.argv[3:]))",
                "someBisectStage",
                "someBisectDir",
                "/usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "BISECT_STAGE=someBisectStage",
          "BISECT_DIR=someBisectDir"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "/usr/bin/python2",
              "args": [
                "-c",
                "import bisect_driver; sys.exit(bisect_driver.bisect_driver(sys.argv[1], sys.argv[2], sys.argv[3:]))",
                "someBisectStage",
                "someBisectDir",
                "/usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  },
  {
    "name": "force disable werror",
    "records": [
      {
        "wd": "/tmp/stable",
        "env": [
          "FORCE_DISABLE_WERROR=1"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "FORCE_DISABLE_WERROR=1"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stderr": "-Werror originalerror",
            "exitcode": 1
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-Wno-error"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "FORCE_DISABLE_WERROR=1"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          },
          "stderr": "-Werror originalerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stderr": "-Werror originalerror",
            "exitcode": 1
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu",
                "-Wno-error"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  },
  {
    "name": "clang-tidy",
    "records": [
      {
        "wd": "/tmp/stable",
        "env": [
          "WITH_TIDY=1"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang-tidy",
              "args": [
                "-checks=*,google*,-bugprone-narrowing-conversions,-cppcoreguidelines-*,-fuchsia-*,-google-build-using-namespace,-google-default-arguments,-google-explicit-constructor,-google-readability*,-google-runtime-int,-google-runtime-references,-hicpp-avoid-c-arrays,-hicpp-braces-around-statements,-hicpp-no-array-decay,-hicpp-signed-bitwise,-hicpp-uppercase-literal-suffix,-hicpp-use-auto,-llvm-namespace-comment,-misc-non-private-member-variables-in-classes,-misc-unused-parameters,-modernize-*,-readability-*",
                "main.cc",
                "--",
                "-resource-dir=someResourceDir",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "WITH_TIDY=1",
          "GOMACC_PATH=/tmp/stable/gomacc"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          }
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang-tidy",
              "args": [
                "-checks=*,google*,-bugprone-narrowing-conversions,-cppcoreguidelines-*,-fuchsia-*,-google-build-using-namespace,-google-default-arguments,-google-explicit-constructor,-google-readability*,-google-runtime-int,-google-runtime-references,-hicpp-avoid-c-arrays,-hicpp-braces-around-statements,-hicpp-no-array-decay,-hicpp-signed-bitwise,-hicpp-uppercase-literal-suffix,-hicpp-use-auto,-llvm-namespace-comment,-misc-non-private-member-variables-in-classes,-misc-unused-parameters,-modernize-*,-readability-*",
                "main.cc",
                "--",
                "-resource-dir=someResourceDir",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          },
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "../../usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "WITH_TIDY=1",
          "GOMACC_PATH=/tmp/stable/gomacc"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerrorclang-tidy failed"
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang-tidy",
              "args": [
                "-checks=*,google*,-bugprone-narrowing-conversions,-cppcoreguidelines-*,-fuchsia-*,-google-build-using-namespace,-google-default-arguments,-google-explicit-constructor,-google-readability*,-google-runtime-int,-google-runtime-references,-hicpp-avoid-c-arrays,-hicpp-braces-around-statements,-hicpp-no-array-decay,-hicpp-signed-bitwise,-hicpp-uppercase-literal-suffix,-hicpp-use-auto,-llvm-namespace-comment,-misc-non-private-member-variables-in-classes,-misc-unused-parameters,-modernize-*,-readability-*",
                "main.cc",
                "--",
                "-resource-dir=someResourceDir",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          },
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "../../usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          }
        ]
      },
      {
        "wd": "/tmp/stable",
        "env": [
          "WITH_TIDY=1",
          "GOMACC_PATH=/tmp/stable/gomacc"
        ],
        "wrapper": {
          "cmd": {
            "path": "./x86_64-cros-linux-gnu-clang",
            "args": [
              "main.cc"
            ]
          },
          "stdout": "somemessage",
          "stderr": "someerror",
          "exitcode": 1
        },
        "cmds": [
          {
            "cmd": {
              "path": "../../usr/bin/clang",
              "args": [
                "--print-resource-dir"
              ]
            },
            "stdout": "someResourceDir"
          },
          {
            "cmd": {
              "path": "../../usr/bin/clang-tidy",
              "args": [
                "-checks=*,google*,-bugprone-narrowing-conversions,-cppcoreguidelines-*,-fuchsia-*,-google-build-using-namespace,-google-default-arguments,-google-explicit-constructor,-google-readability*,-google-runtime-int,-google-runtime-references,-hicpp-avoid-c-arrays,-hicpp-braces-around-statements,-hicpp-no-array-decay,-hicpp-signed-bitwise,-hicpp-uppercase-literal-suffix,-hicpp-use-auto,-llvm-namespace-comment,-misc-non-private-member-variables-in-classes,-misc-unused-parameters,-modernize-*,-readability-*",
                "main.cc",
                "--",
                "-resource-dir=someResourceDir",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            }
          },
          {
            "cmd": {
              "path": "/tmp/stable/gomacc",
              "args": [
                "../../usr/bin/clang",
                "--sysroot=/usr/x86_64-cros-linux-gnu",
                "-Qunused-arguments",
                "-grecord-gcc-switches",
                "-fno-addrsig",
                "-Wno-tautological-constant-compare",
                "-Wno-tautological-unsigned-enum-zero-compare",
                "-Wno-unknown-warning-option",
                "-Wno-section",
                "-fstack-protector-strong",
                "-fPIE",
                "-pie",
                "-D_FORTIFY_SOURCE=2",
                "-fno-omit-frame-pointer",
                "main.cc",
                "-B../../bin",
                "-target",
                "x86_64-cros-linux-gnu"
              ]
            },
            "stdout": "somemessage",
            "stderr": "someerror",
            "exitcode": 1
          }
        ]
      }
    ]
  }
]
